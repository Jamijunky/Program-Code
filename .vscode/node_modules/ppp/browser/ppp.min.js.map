{"version":3,"file":"ppp.min.js","sources":["../lib/ppp.js"],"names":["__factory","__root","define","amd","__exports","exports","orig","ppp","noConflict","this","_tryCatch","fn","ctx","arg1","arg2","arg3","arg4","call","e","_errObj","_extend","o","n","i","_bind","apply","arguments","_invokeResolveCallback","cb","cbCtx","thenP","res","__invokeResolveCallback","_debugStackTrace","_makeStackTraceLong","_simpleReject","_simpleResolve","_d","_resolve","_invokeRejectCallback","__invokeRejectCallback","data","undefined","_s","STATE_INIT","_applyStackTrace","STATE_FULFILLED","l","_c","length","c","_nextTick","Error","STATE_REJECTED","_getThen","obj","then","Defer","promise","pend","TypeError","Promise","PendH","_then","resolve","reject","gotThen","onSuccess","onError","context","push","_checkAll","isComplete","sub","allResolved","_subs","isResolved","isRejected","valueOf","subVals","_checkRace","_getError","p","name","_r","stack","_p","STATE_PENDING","executor","error","indexOf","STACK_JUMP_SEPARATOR","stacks","source","unshift","concatedStacks","join","_filterStackString","stackString","lines","split","desiredLines","line","_isInternalFrame","_isNodeFrame","stackLine","_getFileName","_stackRE","exec","fileName","pppFileName","version","_hasStacks","execQueued","q","queue","callNext","running","MO","MutationObserver","WebKitMutationObserver","setImmediate","process","nextTick","document","createTextNode","num","node","observe","characterData","MessageChannel","trueCallNext","port2","postMessage","port1","onmessage","setTimeout","args","prototype","v","catch","getStackTrace","defer","when","all","subs","out","keys","Object","s","race","setDebugStackTrace","val","firstLine"],"mappings":"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"}